version: "3.1"
stories:
- story: greeting
  steps:
  - intent: welcome_greet
  - action: utter_welcome_greet
  - checkpoint: start_questions_on_pizza
- story: greeting
  steps:
  - intent: welcome_greet
  - action: utter_welcome_greet
  - checkpoint: start_order
- story: questions_on_pizza
  steps:
  - checkpoint: start_questions_on_pizza
  - intent: init_pizza_question
  - action: utter_init_pizza_question
  - checkpoint: start_order

- story: pizza interjection
  steps:
  - intent: item_start_generic
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - requested_slot: pizza_amount # what I already asked you
  - intent: explain
  - action: utter_explain_pizza_quantities
  - action: pizza_order_form


- story: pizza interjection
  steps:
  - intent: item_start_generic
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - requested_slot: pizza_amount
  - intent: explain
  - action: utter_explain_pizza_quantities
  - action: pizza_order_form

- story: pizza interjection
  steps:
  - intent: item_start_generic
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - requested_slot: pizza_type
  - slot_was_set:
    - requested_slot: pizza_amount
  - intent: explain
  - action: utter_explain_pizza_quantities
  - action: pizza_order_form

- story: pizza interjection
  steps:
  - intent: item_start_generic
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - requested_slot: pizza_size
  - slot_was_set:
    - requested_slot: pizza_amount
  - intent: explain
  - action: utter_explain_pizza_quantities
  - action: pizza_order_form

- story: pizza interjection
  steps:
  - intent: item_start_generic
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - requested_slot: pizza_type
  - intent: explain
  - action: utter_explain_pizza_types
  - action: pizza_order_form

- story: pizza interjection
  steps:
  - intent: item_start_generic
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - requested_slot: pizza_size
  - slot_was_set:
    - requested_slot: pizza_type
  - intent: explain
  - action: utter_explain_pizza_types
  - action: pizza_order_form


- story: interactive_story_08
  steps:
  - intent: item_start_generic
    entities:
    - pizza_size: large
    - pizza_type: margherita
  - slot_was_set:
    - pizza_size: large
  - slot_was_set:
    - pizza_type: margherita
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - pizza_size: large
  - slot_was_set:
    - pizza_type: margherita
  - slot_was_set:
    - requested_slot: pizza_amount
  - intent: welcome_greet
  - intent: explain
  - action: utter_explain_pizza_quantities
  - action: action_pizza_order_add
  - action: pizza_order_form
  - slot_was_set:
    - requested_slot: pizza_amount
  - intent: welcome_greet
    entities:
    - pizza_amount: three
  - slot_was_set:
    - pizza_amount: three
  - intent: item_amount
    entities:
    - pizza_amount: three
  - action: utter_item_change

- story: interactive_story_09
  steps:
  - intent: item_start_generic
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - requested_slot: pizza_amount
  - intent: explain
  - action: utter_explain_pizza_quantities
  - action: pizza_order_form
  - slot_was_set:
    - requested_slot: pizza_amount
  - intent: item_amount
    entities:
    - pizza_amount: '1'
  - slot_was_set:
    - pizza_amount: '1'
  - action: pizza_order_form
  - slot_was_set:
    - requested_slot: pizza_type
  - intent: item_topping
    entities:
    - pizza_type: onions
    - pizza_type: tuna
  - action: pizza_order_form
  - slot_was_set:
    - requested_slot: pizza_size
  - intent: item_size
    entities:
    - pizza_size: large
  - action: utter_item_change
  - intent: response_positive
  - action: utter_total_order_final

- story: interactive_story_10
  steps:
  - intent: item_size
    entities:
    - pizza_size: large
  - slot_was_set:
    - pizza_size: large
  - intent: item_start_generic
    entities:
    - pizza_size: large
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - pizza_size: large
  - slot_was_set:
    - requested_slot: pizza_amount
  - intent: explain
  - action: utter_explain_pizza_quantities
  - action: pizza_order_form
  - slot_was_set:
    - requested_slot: pizza_amount
  - intent: item_amount
    entities:
    - pizza_amount: three
  - slot_was_set:
    - pizza_amount: three
  - action: pizza_order_form
  - slot_was_set:
    - requested_slot: pizza_type

- story: interactive_story_11
  steps:
  - intent: item_start_generic
    entities:
    - pizza_type: margherita
  - slot_was_set:
    - pizza_type: margherita
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - pizza_type: margherita
  - slot_was_set:
    - requested_slot: pizza_amount
  - intent: explain
  - action: utter_explain_pizza_quantities
  - action: pizza_order_form
  - slot_was_set:
    - requested_slot: pizza_amount
  - intent: item_amount
    entities:
    - pizza_amount: three
  - slot_was_set:
    - pizza_amount: three
  - action: pizza_order_form
  - slot_was_set:
    - requested_slot: pizza_size
  - intent: item_size
    entities:
    - pizza_size: large
  - slot_was_set:
    - pizza_size: large
  - action: pizza_order_form
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_confirm_pizzas

- story: interactive_story_12
  steps:
  - intent: item_start_generic
    entities:
    - pizza_type: margherita
  - slot_was_set:
    - pizza_type: margherita
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - pizza_type: margherita
  - slot_was_set:
    - requested_slot: pizza_amount
  - intent: explain
  - action: utter_explain_pizza_quantities
  - action: pizza_order_form
  - slot_was_set:
    - requested_slot: pizza_amount
  - intent: item_amount
    entities:
    - pizza_amount: three
  - slot_was_set:
    - pizza_amount: three
  - action: pizza_order_form
  - slot_was_set:
    - requested_slot: pizza_size
  - intent: item_size
    entities:
    - pizza_size: large
  - slot_was_set:
    - pizza_size: large
  - action: pizza_order_form
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_confirm_pizzas

# - story: interactive_story_1
#   steps:
#   - intent: request_pizza_types
#   - action: action_get_pizza_types
#   - slot_was_set:
#     - pizza_type: Carnivora, Pepperoni, Trentina, Ortolana, Caprese
#   - action: utter_inform_pizza_types
#   - active_loop: pizza_order_form
#   - action: utter_ask_pizza_type

# - story: interactive_story_1
#   steps:
#   - intent: request_pizza_types
#   - action: action_get_pizza_types
#   - slot_was_set:
#     - pizza_types: Carnivora, Pepperoni, Trentina, Ortolana, Caprese
#   - action: utter_inform_pizza_types
#   - action: pizza_order_form
#   - active_loop: pizza_order_form
#   - slot_was_set:
#     - requested_slot: pizza_amount
#   - intent: item_amount
#     entities:
#     - pizza_amount: one
#   - slot_was_set:
#     - pizza_amount: one
#   - action: pizza_order_form
#   - slot_was_set:
#     - pizza_amount: one
#   - slot_was_set:
#     - requested_slot: pizza_type
#   - intent: item_start_generic
#     entities:
#     - pizza_type: Funghi
#   - slot_was_set:
#     - pizza_type: Funghi
#   - action: pizza_order_form
#   - slot_was_set:
#     - pizza_type: Funghi
#   - slot_was_set:
#     - requested_slot: pizza_size
#   - intent: item_size
#     entities:
#     - pizza_size: small
#   - slot_was_set:
#     - pizza_size: small
#   - action: pizza_order_form
#   - slot_was_set:
#     - pizza_size: small
#   - slot_was_set:
#     - requested_slot: pizza_crust
#   - intent: pizza_crust
#     entities:
#     - pizza_crust: stuffed crust
#   - slot_was_set:
#     - pizza_crust: stuffed crust
#   - action: pizza_order_form
#   - slot_was_set:
#     - pizza_crust: stuffed crust
#   - slot_was_set:
#     - requested_slot: pizza_sliced
#   - intent: response_positive
#   - slot_was_set:
#     - pizza_sliced: true
#   - action: pizza_order_form
#   - slot_was_set:
#     - pizza_sliced: true
#   - slot_was_set:
#     - requested_slot: null
#   - active_loop: null
#   - action: utter_item_change

- story: interactive_story_13
  steps:
  - intent: item_start_generic
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - requested_slot: pizza_amount
  - intent: item_amount
    entities:
    - pizza_amount: '10'
  - slot_was_set: 
    - pizza_amount: '10'

- story: interactive_story_14
  steps:
  - intent: item_start_generic
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - requested_slot: pizza_amount
  - intent: item_amount
    entities:
    - pizza_amount: '8'
  - slot_was_set: 
    - pizza_amount: '8'

- story: interactive_story_13
  steps:
  - intent: item_start_generic
  - action: pizza_order_form
  - active_loop: pizza_order_form
  - slot_was_set:
    - requested_slot: pizza_amount
  - intent: item_amount
    entities:
    - pizza_amount: '10'
  - slot_was_set: 
    - pizza_amount: '10'